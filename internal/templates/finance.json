{
  "version": "1.0",
  "database": {
    "name": "finance_db",
    "encoding": "UTF8",
    "locale": "en_US.utf8"
  },
  "tables": {
    "customers": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "customer_id",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "template",
          "generator_config": {
            "template": "CUS-{year}-{seq:8}"
          }
        },
        {
          "name": "first_name",
          "type": "varchar(100)",
          "nullable": false
        },
        {
          "name": "last_name",
          "type": "varchar(100)",
          "nullable": false
        },
        {
          "name": "email",
          "type": "varchar(255)",
          "nullable": false
        },
        {
          "name": "phone",
          "type": "varchar(20)",
          "nullable": true
        },
        {
          "name": "date_of_birth",
          "type": "date",
          "nullable": false
        },
        {
          "name": "address",
          "type": "text",
          "nullable": true
        },
        {
          "name": "city",
          "type": "varchar(100)",
          "nullable": true
        },
        {
          "name": "state",
          "type": "varchar(100)",
          "nullable": true
        },
        {
          "name": "postal_code",
          "type": "varchar(20)",
          "nullable": true
        },
        {
          "name": "country",
          "type": "varchar(100)",
          "nullable": true
        },
        {
          "name": "tax_id",
          "type": "varchar(50)",
          "nullable": true,
          "generator": "pattern",
          "generator_config": {
            "pattern": "[0-9]{3}-[0-9]{2}-[0-9]{4}"
          }
        },
        {
          "name": "risk_profile",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["conservative", "moderate", "aggressive"],
            "weights": [30, 50, 20]
          }
        },
        {
          "name": "kyc_status",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["verified", "pending", "rejected"],
            "weights": [85, 10, 5]
          }
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "unique_constraints": [
        {
          "columns": ["customer_id"]
        },
        {
          "columns": ["email"]
        }
      ],
      "row_count": 10000
    },
    "accounts": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "customer_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "account_number",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "pattern",
          "generator_config": {
            "pattern": "[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}"
          }
        },
        {
          "name": "account_type",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["checking", "savings", "investment", "credit"],
            "weights": [35, 30, 25, 10]
          }
        },
        {
          "name": "currency",
          "type": "varchar(3)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["USD", "EUR", "GBP", "JPY"],
            "weights": [60, 20, 15, 5]
          }
        },
        {
          "name": "balance",
          "type": "numeric(15,2)",
          "nullable": false,
          "generator": "integer_range",
          "generator_config": {
            "min": 0,
            "max": 10000000
          }
        },
        {
          "name": "available_balance",
          "type": "numeric(15,2)",
          "nullable": false,
          "generator": "integer_range",
          "generator_config": {
            "min": 0,
            "max": 10000000
          }
        },
        {
          "name": "credit_limit",
          "type": "numeric(15,2)",
          "nullable": true,
          "generator": "integer_range",
          "generator_config": {
            "min": 0,
            "max": 100000
          }
        },
        {
          "name": "interest_rate",
          "type": "numeric(5,2)",
          "nullable": true,
          "generator": "integer_range",
          "generator_config": {
            "min": 0,
            "max": 2500
          }
        },
        {
          "name": "status",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["active", "frozen", "closed"],
            "weights": [85, 10, 5]
          }
        },
        {
          "name": "opened_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "foreign_keys": [
        {
          "columns": ["customer_id"],
          "referenced_table": "customers",
          "referenced_columns": ["id"],
          "on_delete": "CASCADE"
        }
      ],
      "unique_constraints": [
        {
          "columns": ["account_number"]
        }
      ],
      "row_count": 15000
    },
    "transactions": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "account_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "transaction_id",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "template",
          "generator_config": {
            "template": "TXN-{year}-{seq:10}"
          }
        },
        {
          "name": "transaction_type",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["deposit", "withdrawal", "transfer", "payment", "fee"],
            "weights": [25, 20, 30, 20, 5]
          }
        },
        {
          "name": "amount",
          "type": "numeric(15,2)",
          "nullable": false,
          "generator": "integer_range",
          "generator_config": {
            "min": 100,
            "max": 1000000
          }
        },
        {
          "name": "currency",
          "type": "varchar(3)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["USD", "EUR", "GBP", "JPY"],
            "weights": [60, 20, 15, 5]
          }
        },
        {
          "name": "status",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["completed", "pending", "failed", "reversed"],
            "weights": [85, 10, 3, 2]
          }
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true
        },
        {
          "name": "reference_number",
          "type": "varchar(100)",
          "nullable": true,
          "generator": "pattern",
          "generator_config": {
            "pattern": "REF[0-9]{12}"
          }
        },
        {
          "name": "category",
          "type": "varchar(50)",
          "nullable": true,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["groceries", "utilities", "entertainment", "healthcare", "transportation", "other"],
            "weights": [20, 15, 15, 10, 15, 25]
          }
        },
        {
          "name": "transaction_date",
          "type": "timestamp",
          "nullable": false,
          "generator": "timeseries",
          "generator_config": {
            "pattern": "uniform",
            "interval": "5m"
          }
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "foreign_keys": [
        {
          "columns": ["account_id"],
          "referenced_table": "accounts",
          "referenced_columns": ["id"],
          "on_delete": "CASCADE"
        }
      ],
      "unique_constraints": [
        {
          "columns": ["transaction_id"]
        }
      ],
      "indexes": [
        {
          "columns": ["account_id", "transaction_date"]
        },
        {
          "columns": ["transaction_type", "status"]
        }
      ],
      "row_count": 100000
    },
    "investments": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "customer_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "account_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "investment_id",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "template",
          "generator_config": {
            "template": "INV-{year}-{seq:8}"
          }
        },
        {
          "name": "investment_type",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["stocks", "bonds", "mutual_funds", "etf", "crypto", "commodities"],
            "weights": [35, 25, 20, 10, 5, 5]
          }
        },
        {
          "name": "symbol",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "pattern",
          "generator_config": {
            "pattern": "[A-Z]{3,5}"
          }
        },
        {
          "name": "quantity",
          "type": "numeric(15,4)",
          "nullable": false,
          "generator": "integer_range",
          "generator_config": {
            "min": 1,
            "max": 10000
          }
        },
        {
          "name": "purchase_price",
          "type": "numeric(15,2)",
          "nullable": false,
          "generator": "integer_range",
          "generator_config": {
            "min": 100,
            "max": 100000
          }
        },
        {
          "name": "current_price",
          "type": "numeric(15,2)",
          "nullable": false,
          "generator": "integer_range",
          "generator_config": {
            "min": 100,
            "max": 100000
          }
        },
        {
          "name": "purchase_date",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "status",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["held", "sold", "pending"],
            "weights": [80, 15, 5]
          }
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "foreign_keys": [
        {
          "columns": ["customer_id"],
          "referenced_table": "customers",
          "referenced_columns": ["id"],
          "on_delete": "CASCADE"
        },
        {
          "columns": ["account_id"],
          "referenced_table": "accounts",
          "referenced_columns": ["id"],
          "on_delete": "CASCADE"
        }
      ],
      "unique_constraints": [
        {
          "columns": ["investment_id"]
        }
      ],
      "row_count": 20000
    },
    "portfolios": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "customer_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "portfolio_name",
          "type": "varchar(100)",
          "nullable": false
        },
        {
          "name": "strategy",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["growth", "income", "balanced", "conservative", "aggressive"],
            "weights": [25, 20, 30, 15, 10]
          }
        },
        {
          "name": "total_value",
          "type": "numeric(15,2)",
          "nullable": false,
          "generator": "integer_range",
          "generator_config": {
            "min": 1000,
            "max": 10000000
          }
        },
        {
          "name": "total_cost",
          "type": "numeric(15,2)",
          "nullable": false,
          "generator": "integer_range",
          "generator_config": {
            "min": 1000,
            "max": 10000000
          }
        },
        {
          "name": "return_percentage",
          "type": "numeric(6,2)",
          "nullable": true,
          "generator": "integer_range",
          "generator_config": {
            "min": -5000,
            "max": 10000
          }
        },
        {
          "name": "rebalance_frequency",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["monthly", "quarterly", "semi-annual", "annual"],
            "weights": [15, 40, 25, 20]
          }
        },
        {
          "name": "status",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["active", "inactive", "archived"],
            "weights": [80, 15, 5]
          }
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "foreign_keys": [
        {
          "columns": ["customer_id"],
          "referenced_table": "customers",
          "referenced_columns": ["id"],
          "on_delete": "CASCADE"
        }
      ],
      "row_count": 8000
    }
  }
}
