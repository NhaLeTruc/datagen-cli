{
  "version": "1.0",
  "database": {
    "name": "healthcare_db",
    "encoding": "UTF8",
    "locale": "en_US.utf8"
  },
  "tables": {
    "patients": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "patient_id",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "template",
          "generator_config": {
            "template": "PAT-{year}-{seq:6}"
          }
        },
        {
          "name": "first_name",
          "type": "varchar(100)",
          "nullable": false
        },
        {
          "name": "last_name",
          "type": "varchar(100)",
          "nullable": false
        },
        {
          "name": "date_of_birth",
          "type": "date",
          "nullable": false
        },
        {
          "name": "gender",
          "type": "varchar(10)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["male", "female", "other"],
            "weights": [48, 48, 4]
          }
        },
        {
          "name": "email",
          "type": "varchar(255)",
          "nullable": true
        },
        {
          "name": "phone",
          "type": "varchar(20)",
          "nullable": true
        },
        {
          "name": "address",
          "type": "text",
          "nullable": true
        },
        {
          "name": "city",
          "type": "varchar(100)",
          "nullable": true
        },
        {
          "name": "state",
          "type": "varchar(100)",
          "nullable": true
        },
        {
          "name": "postal_code",
          "type": "varchar(20)",
          "nullable": true
        },
        {
          "name": "country",
          "type": "varchar(100)",
          "nullable": true
        },
        {
          "name": "insurance_number",
          "type": "varchar(50)",
          "nullable": true,
          "generator": "pattern",
          "generator_config": {
            "pattern": "[A-Z]{3}[0-9]{9}"
          }
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "unique_constraints": [
        {
          "columns": ["patient_id"]
        }
      ],
      "row_count": 5000
    },
    "doctors": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "doctor_id",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "template",
          "generator_config": {
            "template": "DOC-{year}-{seq:6}"
          }
        },
        {
          "name": "first_name",
          "type": "varchar(100)",
          "nullable": false
        },
        {
          "name": "last_name",
          "type": "varchar(100)",
          "nullable": false
        },
        {
          "name": "specialization",
          "type": "varchar(100)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["Cardiology", "Pediatrics", "Orthopedics", "Neurology", "Oncology", "General Practice"],
            "weights": [15, 20, 15, 10, 10, 30]
          }
        },
        {
          "name": "license_number",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "pattern",
          "generator_config": {
            "pattern": "MED[0-9]{8}"
          }
        },
        {
          "name": "email",
          "type": "varchar(255)",
          "nullable": false
        },
        {
          "name": "phone",
          "type": "varchar(20)",
          "nullable": false
        },
        {
          "name": "office_address",
          "type": "text",
          "nullable": true
        },
        {
          "name": "status",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["active", "on_leave", "retired"],
            "weights": [85, 10, 5]
          }
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "unique_constraints": [
        {
          "columns": ["doctor_id"]
        },
        {
          "columns": ["license_number"]
        }
      ],
      "row_count": 200
    },
    "appointments": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "patient_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "doctor_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "appointment_date",
          "type": "timestamp",
          "nullable": false,
          "generator": "timeseries",
          "generator_config": {
            "pattern": "business_hours",
            "interval": "30m"
          }
        },
        {
          "name": "duration_minutes",
          "type": "integer",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": [15, 30, 45, 60],
            "weights": [20, 50, 20, 10]
          }
        },
        {
          "name": "reason",
          "type": "text",
          "nullable": true
        },
        {
          "name": "status",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["scheduled", "completed", "cancelled", "no_show"],
            "weights": [25, 60, 10, 5]
          }
        },
        {
          "name": "notes",
          "type": "text",
          "nullable": true
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "foreign_keys": [
        {
          "columns": ["patient_id"],
          "referenced_table": "patients",
          "referenced_columns": ["id"],
          "on_delete": "CASCADE"
        },
        {
          "columns": ["doctor_id"],
          "referenced_table": "doctors",
          "referenced_columns": ["id"],
          "on_delete": "RESTRICT"
        }
      ],
      "indexes": [
        {
          "columns": ["patient_id", "appointment_date"]
        },
        {
          "columns": ["doctor_id", "appointment_date"]
        }
      ],
      "row_count": 10000
    },
    "medical_records": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "patient_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "doctor_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "appointment_id",
          "type": "integer",
          "nullable": true
        },
        {
          "name": "record_type",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["diagnosis", "treatment", "lab_result", "imaging", "note"],
            "weights": [25, 30, 20, 15, 10]
          }
        },
        {
          "name": "diagnosis",
          "type": "text",
          "nullable": true
        },
        {
          "name": "treatment",
          "type": "text",
          "nullable": true
        },
        {
          "name": "findings",
          "type": "text",
          "nullable": true
        },
        {
          "name": "recorded_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "foreign_keys": [
        {
          "columns": ["patient_id"],
          "referenced_table": "patients",
          "referenced_columns": ["id"],
          "on_delete": "CASCADE"
        },
        {
          "columns": ["doctor_id"],
          "referenced_table": "doctors",
          "referenced_columns": ["id"],
          "on_delete": "RESTRICT"
        },
        {
          "columns": ["appointment_id"],
          "referenced_table": "appointments",
          "referenced_columns": ["id"],
          "on_delete": "SET NULL"
        }
      ],
      "row_count": 15000
    },
    "prescriptions": {
      "columns": [
        {
          "name": "id",
          "type": "serial",
          "nullable": false
        },
        {
          "name": "patient_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "doctor_id",
          "type": "integer",
          "nullable": false
        },
        {
          "name": "appointment_id",
          "type": "integer",
          "nullable": true
        },
        {
          "name": "prescription_number",
          "type": "varchar(50)",
          "nullable": false,
          "generator": "template",
          "generator_config": {
            "template": "RX-{year}-{seq:8}"
          }
        },
        {
          "name": "medication_name",
          "type": "varchar(200)",
          "nullable": false
        },
        {
          "name": "dosage",
          "type": "varchar(100)",
          "nullable": false
        },
        {
          "name": "frequency",
          "type": "varchar(100)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["Once daily", "Twice daily", "Three times daily", "As needed"],
            "weights": [40, 35, 15, 10]
          }
        },
        {
          "name": "duration_days",
          "type": "integer",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": [7, 14, 30, 60, 90],
            "weights": [20, 30, 30, 15, 5]
          }
        },
        {
          "name": "refills_allowed",
          "type": "integer",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": [0, 1, 2, 3, 5],
            "weights": [20, 30, 25, 15, 10]
          }
        },
        {
          "name": "status",
          "type": "varchar(20)",
          "nullable": false,
          "generator": "weighted_enum",
          "generator_config": {
            "values": ["active", "completed", "cancelled"],
            "weights": [40, 50, 10]
          }
        },
        {
          "name": "prescribed_at",
          "type": "timestamp",
          "nullable": false
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false
        }
      ],
      "primary_key": ["id"],
      "foreign_keys": [
        {
          "columns": ["patient_id"],
          "referenced_table": "patients",
          "referenced_columns": ["id"],
          "on_delete": "CASCADE"
        },
        {
          "columns": ["doctor_id"],
          "referenced_table": "doctors",
          "referenced_columns": ["id"],
          "on_delete": "RESTRICT"
        },
        {
          "columns": ["appointment_id"],
          "referenced_table": "appointments",
          "referenced_columns": ["id"],
          "on_delete": "SET NULL"
        }
      ],
      "unique_constraints": [
        {
          "columns": ["prescription_number"]
        }
      ],
      "row_count": 8000
    }
  }
}
